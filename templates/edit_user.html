{% extends "base.html" %}
{% block content %}

<style>
.form-box {
    max-width: 650px;
    margin: auto;
    background: #fff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
}

.form-title {
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #2c3e50;
}

.form-group {
    margin-bottom: 15px;
}

label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
    color: #34495e;
}

input, select {
    width: 100%;
    padding: 10px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 15px;
}

.badge-team {
    background: #eef5ff;
    color: #2b6dcf;
    padding: 5px 10px;
    margin-right: 4px;
    border-radius: 20px;
    font-size: 13px;
    display: inline-block;
}

.btn-main {
    background: #2b8cff;
    color: #fff;
    padding: 10px 18px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
}

.btn-main:hover {
    background: #176dde;
}
</style>

<div class="form-box">
    <h1 class="form-title">Edit User</h1>

    <form method="POST">

        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="{{ user.email }}" required>
        </div>

        <div class="form-group">
            <label>Role</label>
            <select name="role">
                <option value="admin"   {% if user.role=='admin' %}selected{% endif %}>Admin</option>
                <option value="manager" {% if user.role=='manager' %}selected{% endif %}>Manager</option>
                <option value="sre"     {% if user.role=='sre' %}selected{% endif %}>SRE</option>
                <option value="l1_ops"  {% if user.role=='l1_ops' %}selected{% endif %}>L1 Ops</option>
                <option value="roc"     {% if user.role=='roc' %}selected{% endif %}>ROC</option>
            </select>
        </div>

        <div class="form-group">
            <label>Teams</label>
            <select name="teams" multiple size="8">
                {% for team in all_teams %}
                    <option value="{{ team.name }}"
                        {% if team.name in user.get_team_names() %}selected{% endif %}>
                        {{ team.name }}
                    </option>
                {% endfor %}
            </select>
            <small>Hold Ctrl (Cmd on Mac) to select multiple teams</small>
        </div>

        <button type="submit" class="btn-main">Save Changes</button>
    </form>
</div>

{% endblock %}
