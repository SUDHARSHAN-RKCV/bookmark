{% extends "base.html" %}
{% block content %}

<div class="main-container">
    <h1 class="title">Admin Panel</h1>

    <a href="{{ url_for('create_user') }}" class="btn btn-primary" style="margin-bottom:10px;">
        â• Create New User
    </a>

    <table class="admin-table">
        <thead>
            <tr>
                <th>Email</th>
                <th>Role</th>
                
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>

        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                
                <td>{{ "Active" if user.is_active else "Disabled" }}</td>

                <td>
                    <a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn btn-small">âœï¸ Edit</a>

                    {% if user.is_active %}
                        <a href="{{ url_for('disable_user', user_id=user.id) }}" 
                           class="btn btn-small btn-warning"
                           onclick="return confirm('Disable this user?');">ğŸš« Disable</a>
                    {% else %}
                        <a href="{{ url_for('enable_user', user_id=user.id) }}" class="btn btn-small btn-success">âœ”ï¸ Enable</a>
                    {% endif %}

                    <a href="{{ url_for('delete_user', user_id=user.id) }}"
                       class="btn btn-small btn-danger"
                       onclick="return confirm('Are you sure you want to delete this user? This cannot be undone.');">
                      ğŸ—‘ Delete
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
