{% extends "base.html" %}
{% block content %}

<style>
/* =======================
   ADMIN PANEL STYLES
======================= */

.admin-container {
    background: #818181;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    max-width: 1100px;
    margin: auto;
}

.admin-title {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 25px;
    color: #2c3e50;
}

/* Buttons */
.btn-main {
    display: inline-block;
    background: #2b8cff;
    color: white;
    padding: 10px 18px;
    border-radius: 8px;
    font-size: 15px;
    text-decoration: none;
    transition: all 0.2s ease;
}
.btn-main:hover {
    background: #166cd8;
}

/* Table */
.admin-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.admin-table thead {
    background: #f7f9fc;
    border-bottom: 2px solid #e5e7eb;
}

.admin-table th {
    padding: 12px;
    text-align: left;
    font-size: 15px;
    color: #34495e;
}

.admin-table td {
    padding: 14px;
    border-bottom: 1px solid #eef0f2;
    font-size: 15px;
}

/* Hover row */
.admin-table tr:hover {
    background: #b0b1b124;
}

/* Small buttons */
.btn-sm {
    padding: 6px 10px;
    font-size: 13px;
    border-radius: 6px;
    text-decoration: none;
    margin-right: 5px;
    display: inline-block;
    color: white;
}

.btn-edit { background: #3498db; }
.btn-edit:hover { background: #217dbb; }

.btn-disable { background: #e67e22; }
.btn-disable:hover { background: #c46616; }

.btn-enable { background: #2ecc71; }
.btn-enable:hover { background: #26b863; }

.btn-delete { background: #e74c3c; }
.btn-delete:hover { background: #c0392b; }

/* Status badges */
.badge {
    padding: 5px 10px;
    border-radius: 30px;
    font-size: 13px;
    font-weight: 600;
}

.badge-active { background: #daf9e4; color: #1e8a42; }
.badge-disabled { background: #ffe2df; color: #c0392b; }
</style>



<div class="admin-container">
    <h1 class="admin-title">Admin Panel</h1>

    <a href="{{ url_for('create_user') }}" class="btn-main">‚ûï Create New User</a>

    <table class="admin-table">
        <thead>
            <tr>
                <th>User ID</th>
                <th>Email</th>
                <th>Role</th>
                <th>Teams</th>
                <th>Status</th>
                <th style="width: 220px;">Actions</th>
            </tr>
        </thead>

        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>

                <td>
                    {% for t in user.get_team_names() %}
                        <span class="badge" style="background:#eef5ff; color:#2b6dcf;">{{ t }}</span>
                    {% endfor %}
                </td>

                <td>
                    {% if user.is_active %}
                        <span class="badge badge-active">Active</span>
                    {% else %}
                        <span class="badge badge-disabled">Disabled</span>
                    {% endif %}
                </td>

                <td>
                    <a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn-sm btn-edit">‚úèÔ∏è Edit</a>

                    {% if user.is_active %}
                        <a href="{{ url_for('disable_user', user_id=user.id) }}"
                           class="btn-sm btn-disable"
                           onclick="return confirm('Disable this user?');">
                            üö´ Disable
                        </a>
                    {% else %}
                        <a href="{{ url_for('enable_user', user_id=user.id) }}" class="btn-sm btn-enable">
                            ‚úîÔ∏è Enable
                        </a>
                    {% endif %}

                    <a href="{{ url_for('delete_user', user_id=user.id) }}"
                       class="btn-sm btn-delete"
                       onclick="return confirm('Delete this user permanently?');">
                        üóë Delete
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}
