{% extends "base.html" %}
{% block content %}
<div class="main-container">
  <h1 class="title">{{ team_name | capitalize }}</h1>

  <div class="card-container" id="cardContainer">
    {% for link in links %}
      <a href="{{ link.href or link['URL'] }}" 
         target="{{ link.target or ('_blank' if link['Type'] == 'external' else '_self') }}" 
         class="card">
        <i class="fas {{ link['Icon'] or 'fa-link' }}"></i>
        <span>{{ link['Link Title'] or link['Team / Title'] }}</span>
      </a>
    {% endfor %}
  </div>
</div>

<script>
  // ðŸ” Live search (reuses topbar search)
  const searchInput = document.getElementById("search");
  if (searchInput) {
    searchInput.addEventListener("input", () => {
      const filter = searchInput.value.toLowerCase();
      document.querySelectorAll(".card").forEach(card => {
        const text = card.innerText.toLowerCase();
        card.style.display = text.includes(filter) ? "" : "none";
      });
    });
  }
</script>
{% endblock %}
