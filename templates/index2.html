{% extends "base.html" %}
{% block content %}

<div class="main-container">

  <div class="card-container">

    <!-- Scipher Tile -->
    <div class="card team-card" onclick="toggleSection('scipher')">
      <i class="fas fa-building"></i>
      <span>Scipher</span>
    </div>

    <!-- ROC Tile -->
    <div class="card team-card" onclick="toggleSection('roc')">
      <i class="fas fa-shield-alt"></i>
      <span>ROC</span>
    </div>

  </div>

  <!-- Scipher Links Section -->
  <div id="scipher" class="link-section">
    <h2>Scipher</h2>
    <div class="links-grid">
      {% for link in scipher_links %}
        <a href="{{ link.href }}" target="{{ link.target }}" class="link-card">
          <i class="fas {{ link['Icon'] }}"></i>
          <span>{{ link['Team / Title'] }}</span>
        </a>
      {% endfor %}
    </div>
  </div>

  <!-- ROC Links Section -->
  <div id="roc" class="link-section">
    <h2>ROC</h2>
    <div class="links-grid">
      {% for link in roc_links %}
        <a href="{{ link.href }}" target="{{ link.target }}" class="link-card">
          <i class="fas {{ link['Icon'] }}"></i>
          <span>{{ link['Team / Title'] }}</span>
        </a>
      {% endfor %}
    </div>
  </div>

</div>

<style>

.link-section {
  display: none;
  margin-top: 25px;
}

.links-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 15px;
}

.link-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 15px;
  background: #2d2d40;
  border-radius: 10px;
  color: #fff;
  text-decoration: none;
  transition: 0.2s;
}

.link-card:hover {
  background: #3b3b55;
}

.team-card {
  text-align: center;
  cursor: pointer;
}

</style>

<script>
  function toggleSection(id) {
      // Hide all
      document.querySelectorAll(".link-section").forEach(sec => {
          sec.style.display = "none";
      });
  
      // Show selected
      const section = document.getElementById(id);
      section.style.display = "block";
  
      // Smooth scroll into view
      section.scrollIntoView({ behavior: "smooth", block: "start" });
  }
  </script>

{% endblock %}
